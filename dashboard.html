<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sistema de Gerenciamento de Entregas </title> <!--tartaruga cometa-->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
    --primary: #4361ee;
    --secondary: #3f37c9;
    --success: #4cc9f0;
    --info: #4895ef;
    --warning: #f72585;
    --danger: #e63946;
    --light: #f8f9fa;
    --dark: #212529;
    --gray: #6c757d;
    --light-gray: #e9ecef;
    --sidebar-width: 250px;
    --header-height: 70px;
    --border-radius: 12px;
    --box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
    --transition: all 0.3s ease;
}

* { margin:0; padding:0; box-sizing:border-box; font-family:'Poppins', sans-serif;}
body { background-color:#f5f7fa; color:#333; overflow-x:hidden;}

.app-container { display:flex; min-height:100vh;}

/* Sidebar Styles */
.sidebar { width:var(--sidebar-width); background: linear-gradient(180deg, var(--primary) 0%, var(--secondary) 100%); color:white; height:100vh; position:fixed; left:0; top:0; padding:20px 0; transition:var(--transition); z-index:1000; box-shadow:var(--box-shadow);}
.sidebar-header { padding:0 20px 20px; border-bottom:1px solid rgba(255,255,255,0.1); margin-bottom:20px;}
.sidebar-header h2 { display:flex; align-items:center; gap:10px; font-weight:600; font-size:1.4rem;}
.sidebar-header h2 i { color:#fff; font-size:1.8rem;}
.sidebar-menu { list-style:none; padding:0;}
.sidebar-menu li { margin-bottom:5px;}
.sidebar-menu a { display:flex; align-items:center; padding:12px 20px; color:rgba(255,255,255,0.9); text-decoration:none; transition:var(--transition); font-weight:500; border-left:4px solid transparent; cursor:pointer;}
.sidebar-menu a:hover, .sidebar-menu a.active { background:rgba(255,255,255,0.1); color:white; border-left-color:white;}
.sidebar-menu i { margin-right:12px; font-size:1.2rem; width:24px; text-align:center;}

/* Conteudo principal */
.main-content { flex:1; margin-left:var(--sidebar-width); padding:20px; transition:var(--transition);}

/* cabeçalho */
.header { background:white; border-radius:var(--border-radius); padding:15px 25px; margin-bottom:25px; display:flex; align-items:center; justify-content:space-between; box-shadow:var(--box-shadow);}
.page-title h1 { font-weight:600; color:var(--dark); font-size:1.8rem;}
.page-title p { color:var(--gray); font-size:0.9rem;}
.user-menu { display:flex; align-items:center; gap:15px;}

/* Botões */
.btn { display:inline-flex; align-items:center; gap:8px; padding:10px 20px; border-radius:50px; border:none; cursor:pointer; font-weight:500; transition:var(--transition); text-decoration:none;}
.btn i { font-size:1rem;}
.btn-primary { background:var(--primary); color:white;}
.btn-primary:hover { background:var(--secondary); transform:translateY(-2px);}
.btn-danger { background:var(--danger); color:white;}
.btn-danger:hover { background:#c82333; transform:translateY(-2px);}
.btn-success { background:var(--success); color:white;}
.btn-success:hover { background:#3aa5c9; transform:translateY(-2px);}

/* Tables */
.table-container { overflow-x:auto; border-radius:var(--border-radius); box-shadow:0 2px 10px rgba(0,0,0,0.05);}
table { width:100%; border-collapse:collapse;}
th, td { padding:15px; text-align:left; border-bottom:1px solid var(--light-gray);}
th { background-color:#f8f9fa; font-weight:600; color:var(--gray); font-size:0.9rem; text-transform:uppercase;}
tr:hover { background-color:#f8f9fa;}
.status { display:inline-block; padding:5px 12px; border-radius:50px; font-size:0.8rem; font-weight:500;}
.status-delivered { background:rgba(76,201,240,0.15); color:var(--success);}
.status-pending { background:rgba(247,37,133,0.15); color:var(--warning);}
.status-transit { background:rgba(67,97,238,0.15); color:var(--primary);}

/* Action buttons */
.action-buttons { display:flex; gap:8px;}
.action-btn { width:32px; height:32px; border-radius:8px; display:flex; align-items:center; justify-content:center; color:white; cursor:pointer; transition:var(--transition);}
.edit-btn { background:var(--info);}
.edit-btn:hover { background:#3a7bd9;}
.delete-btn { background:var(--danger);}
.delete-btn:hover { background:#c82333;}

/* Pages */
.page { display:none;}
.page.active { display:block;}

/* Modal */
.modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); backdrop-filter: blur(5px); z-index:2000; align-items:center; justify-content:center;}
.modal-content { background:white; border-radius:var(--border-radius); width:90%; max-width:500px; box-shadow:0 25px 50px rgba(0,0,0,0.15); animation:modalFadeIn 0.3s ease;}
@keyframes modalFadeIn { from {opacity:0; transform:translateY(-30px);} to {opacity:1; transform:translateY(0);} }
.modal-header, .modal-footer { padding:20px;}
.modal-header { display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid var(--light-gray);}
.modal-header h2 { font-weight:600; color:var(--dark); font-size:1.4rem;}
.close-modal { background:none; border:none; font-size:1.5rem; cursor:pointer; color: var(--gray);}
.modal-body { padding:25px;}
.form-group { margin-bottom:20px;}
.form-group label { display:block; margin-bottom:8px; font-weight:500; color: var(--dark);}
.form-control { width:100%; padding:12px 15px; border:1px solid var(--light-gray); border-radius:8px; font-size:1rem;}
.form-control:focus { outline:none; border-color:var(--primary); box-shadow:0 0 0 3px rgba(67,97,238,0.15);}

/* Responsive */
.menu-toggle { display:none; background: var(--primary); color:white; border:none; border-radius:8px; width:40px; height:40px; align-items:center; justify-content:center; cursor:pointer; font-size:1.2rem;}
@media(max-width:992px){ .menu-toggle{display:flex;} .sidebar{transform:translateX(-100%);width:0;} .sidebar.active{transform:translateX(0);width:var(--sidebar-width);} .main-content{margin-left:0;} }
</style>
</head>
<body>
<div class="app-container">
    <!-- Barra lateral -->
    <div class="sidebar">
        <div class="sidebar-header">
            <h2><i class="fas fa-box"></i> Tartaruga Cometa</h2>
        </div>
        <ul class="sidebar-menu">
            <li><a class="active" onclick="showPage('dashboard')"><i class="fas fa-home"></i> Dashboard</a></li>
            <li><a onclick="showPage('entregas')"><i class="fas fa-truck"></i> Entregas</a></li>
            <li><a onclick="showPage('remetentes')"><i class="fas fa-user"></i> Remetentes</a></li>
            <li><a onclick="showPage('destinatarios')"><i class="fas fa-address-book"></i> Destinatários</a></li>
            <li><a onclick="showPage('produtos')"><i class="fas fa-box-open"></i> Produtos</a></li>
        </ul>
    </div>

    <!-- Conteudo princial -->
    <div class="main-content">
        <!-- cabeçalho -->
        <div class="header">
            <div class="page-title">
                <h1 id="page-title">Dashboard</h1>
                <p id="page-subtitle">Bem-vindo ao sistema de gerenciamento de entregas</p>
            </div>
            <div class="user-menu">
                <button class="menu-toggle">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="user-profile">
                    <div class="avatar"></div> <!--Criar "logo titutlo"-->
                    <div>
                        <div></div> <!-- Tag para criar perfil -->
                        <small></small>
                    </div>
                </div>
            </div>
        </div>

        <!-- Pagina do painel -->
        <div id="dashboard" class="page active">
            <h2>Dashboard</h2>
            <p>Resumo geral das entregas</p>

            <div class="dashboard-cards" style="display:flex; gap:20px; margin-top:30px; flex-wrap:wrap;">
                <div class="card" style="flex:1; min-width:180px; background:#4361ee; color:white; border-radius:12px; padding:20px; box-shadow:0 4px 20px rgba(0,0,0,0.1);">
                    <h3>Faturamento</h3>
                    <p id="faturamento" style="font-size:1.5rem; font-weight:600;">R$ 0,00</p>
                </div>
                <div class="card" style="flex:1; min-width:180px; background:#4cc9f0; color:white; border-radius:12px; padding:20px; box-shadow:0 4px 20px rgba(0,0,0,0.1);">
                    <h3>Entregas</h3>
                    <p id="total-entregas" style="font-size:1.5rem; font-weight:600;">0</p>
                </div>
                <div class="card" style="flex:1; min-width:180px; background:#f72585; color:white; border-radius:12px; padding:20px; box-shadow:0 4px 20px rgba(0,0,0,0.1);">
                    <h3>Produtos</h3>
                    <p id="total-produtos" style="font-size:1.5rem; font-weight:600;">0</p>
                </div>
                <div class="card" style="flex:1; min-width:180px; background:#4895ef; color:white; border-radius:12px; padding:20px; box-shadow:0 4px 20px rgba(0,0,0,0.1);">
                    <h3>Clientes</h3>
                    <p id="total-clientes" style="font-size:1.5rem; font-weight:600;">0</p>
                </div>
            </div>
        </div>

        <!-- Essa é a pagina das entregas -->
        <div id="entregas" class="page">
            <div class="content-section">
                <h2>Entregas Recentes</h2>
                <button class="btn btn-success" onclick="openModal()">+ Nova Entrega</button>
                <div class="table-container" style="margin-top:20px;">
                    <table id="tabela-entregas">
                        <thead>
                            <tr>
                                <th></th>
                                <th>Destinatário</th>
                                <th>Produto</th>
                                <th>Remetente</th>
                                <th>Data</th>
                                <th>Status</th>
                                <th>Localização Atual</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Entregas serão adicionadas via JS :)-->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Essa é a pagina dos remendentes -->
        <div id="remetentes" class="page">
            <div class="content-section">
                <h2>Remetentes</h2>
                <button class="btn btn-success" onclick="openRemModal()">+ Novo Remetente</button>
                <div class="table-container" style="margin-top:20px;">
                    <table id="tabela-remetentes">
                        <thead>
                            <tr>
                                <th>CPF/Cnpj</th>
                                <th>Nome</th>
                                <th>Email</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Tambem será  via JS -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- pagina dos destinatarios -->
        <div id="destinatarios" class="page">
            <div class="content-section">
                <h2>Destinatários</h2>
                <button class="btn btn-success" onclick="openDestModal()">+ Novo Destinatário</button>
                <div class="table-container" style="margin-top:20px;">
                    <table id="tabela-destinatarios">
                        <thead>
                            <tr>
                                <th></th>
                                <th>Tipo</th>
                                <th>Nome/Razão Social</th>
                                <th>CPF/CNPJ</th>
                                <th>Email</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Aqui poderá ser adicionado os novos destinatarios-->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Essa é a pagina dos produtos -->
        <div id="produtos" class="page">
            <div class="content-section">
                <h2>Produtos</h2>
                <button class="btn btn-success" onclick="openProdutoModal()">+ Produto</button>
                <div class="table-container" style="margin-top:20px;">
                    <table id="tabela-produtos">
                        <thead>
                            <tr>
                                <th>Produto</th>
                                <th>Quantidade</th>
                                <th>Peso (kg)</th>
                                <th>Volume (m³)</th>
                                <th>Valor Total (R$)</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Produtos também vão ser via JS -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

    </div>
</div>

<!-- Modal Entrega -->
<div id="modal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>Nova Entrega</h2>
            <button class="close-modal" onclick="closeModal()">&times;</button>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label>Destinatário:</label>
                <select id="destinatario" class="form-control">
                    <!-- Opções via JS -->
                </select>
            </div>
            <div class="form-group">
                <label>Produto:</label>
                <select id="produto" class="form-control">
                    <!-- Opções via JS -->
                </select>
            </div>
            <div class="form-group">
                <label>Remetente:</label>
                <select id="remetente" class="form-control">
                    <!-- Opções via JS -->
                </select>
            </div>
            <div class="form-group">
                <label>Valor (R$):</label>
                <input type="number" id="valor" class="form-control" min="0" step="0.01">
            </div>
            <div class="form-group">
                <label>Data:</label>
                <input type="date" id="data" class="form-control">
            </div>
            <button class="btn btn-primary" onclick="addEntrega()">Adicionar</button>
        </div>
    </div>
</div>

<!-- Modal Produto -->
<div id="produto-modal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 id="produto-modal-title">Novo Produto</h2>
            <button class="close-modal" onclick="closeProdutoModal()">&times;</button>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label>Nome do Produto:</label>
                <input type="text" id="produto-nome" class="form-control">
            </div>
            <div class="form-group">
                <label>Quantidade:</label>
                <input type="number" id="produto-quantidade" class="form-control" min="1" value="1">
            </div>
            <div class="form-group">
                <label>Peso (kg):</label>
                <input type="number" id="produto-peso" class="form-control" min="0" step="0.01">
            </div>
            <div class="form-group">
                <label>Volume (m³):</label>
                <input type="number" id="produto-volume" class="form-control" min="0" step="0.01">
            </div>
            <div class="form-group">
                <label>Valor Unitário (R$):</label>
                <input type="number" id="produto-valor" class="form-control" min="0" step="0.01">
            </div>
            <button class="btn btn-primary" onclick="salvarProduto()">Salvar</button>
        </div>
    </div>
</div>

<!-- Modal Remetente -->
<div id="rem-modal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>Novo Remetente</h2>
            <button class="close-modal" onclick="closeRemModal()">&times;</button>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label>Nome:</label>
                <input type="text" id="rem-nome" class="form-control">
            </div>
            <div class="form-group">
                <label>Email:</label>
                <input type="email" id="rem-email" class="form-control">
            </div>
            </div class="modal-body">
            <div class="form-group">
                <label>Cpf/cnpj:</label>
                <input type="text" id="rem-Cpf/cnpj" class="form-control">
                </div>
            <button class="btn btn-primary" onclick="addRemetente()">Adicionar</button>
        </div>
    </div>
</div>

<script>
/* Página */
function showPage(page){
    document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
    document.getElementById(page).classList.add('active');
    document.getElementById('page-title').innerText = page.charAt(0).toUpperCase() + page.slice(1);
}

/* Produtos */
let produtos = [];
let editIndex = null;

function openProdutoModal(nome='', quantidade=1, peso=0, volume=0, valor=0, index=null){
    document.getElementById('produto-nome').value = nome;
    document.getElementById('produto-quantidade').value = quantidade;
    document.getElementById('produto-peso').value = peso;
    document.getElementById('produto-volume').value = volume;
    document.getElementById('produto-valor').value = valor;
    document.getElementById('produto-modal-title').innerText = index!==null ? 'Editar Produto' : 'Novo Produto';
    editIndex = index;
    document.getElementById('produto-modal').style.display = 'flex';
}

function closeProdutoModal(){ document.getElementById('produto-modal').style.display='none'; }

function salvarProduto(){
    const nome = document.getElementById('produto-nome').value;
    const quantidade = parseInt(document.getElementById('produto-quantidade').value) || 1;
    const peso = parseFloat(document.getElementById('produto-peso').value) || 0;
    const volume = parseFloat(document.getElementById('produto-volume').value) || 0;
    const valor = parseFloat(document.getElementById('produto-valor').value) || 0;

    if(editIndex!==null){
        produtos[editIndex] = {nome, quantidade, peso, volume, valor};
    } else {
        produtos.push({nome, quantidade, peso, volume, valor});
    }
    closeProdutoModal();
    atualizarTabelaProdutos();
    editIndex = null;
}

function atualizarTabelaProdutos(){
    const tbody = document.getElementById('tabela-produtos').querySelector('tbody');
    tbody.innerHTML = '';
    produtos.forEach((p,i)=>{
        const row = tbody.insertRow();
        row.innerHTML = `<td>${p.nome}</td>
            <td>${p.quantidade}</td>
            <td>${p.peso.toFixed(2)}</td>
            <td>${p.volume.toFixed(2)}</td>
            <td>R$ ${(p.quantidade*p.valor).toLocaleString('pt-BR',{minimumFractionDigits:2,maximumFractionDigits:2})}</td>
            <td>
                <div class="action-buttons">
                    <div class="action-btn edit-btn" onclick="openProdutoModal('${p.nome}',${p.quantidade},${p.peso},${p.volume},${p.valor},${i})"><i class="fas fa-edit"></i></div>
                    <div class="action-btn delete-btn" onclick="removerProduto(${i})"><i class="fas fa-trash"></i></div>
                </div>
            </td>`;
    });
    document.getElementById('total-produtos').innerText = produtos.length;
}

function removerProduto(index){ produtos.splice(index,1); atualizarTabelaProdutos(); }

/* Remetentes */
let remetentes = [];
let editRemIndex = null;

function openRemModal(nome='', email='', index=null){
    document.getElementById('rem-nome').value = nome;
    document.getElementById('rem-email').value = email;
    editRemIndex = index;
    document.getElementById('rem-modal').style.display='flex';
}

function closeRemModal(){ document.getElementById('rem-modal').style.display='none'; }

function addRemetente(){
    const nome = document.getElementById('rem-nome').value;
    const email = document.getElementById('rem-email').value;
    const id = '#REM' + String(remetentes.length+1).padStart(3,'0');
    if(editRemIndex!==null){
        remetentes[editRemIndex] = {id, nome, email};
    } else {
        remetentes.push({id, nome, email});
    }
    closeRemModal();
    atualizarTabelaRemetentes();
    atualizarSelectRemetentes();
    editRemIndex = null;
}

function atualizarTabelaRemetentes(){
    const tbody = document.getElementById('tabela-remetentes').querySelector('tbody');
    tbody.innerHTML='';
    remetentes.forEach((r,i)=>{
        const row = tbody.insertRow();
        row.innerHTML = `<td>${r.id}</td>
            <td>${r.nome}</td>
            <td>${r.email}</td>
            <td>
                <div class="action-buttons">
                    <div class="action-btn edit-btn" onclick="openRemModal('${r.nome}','${r.email}',${i})"><i class="fas fa-edit"></i></div>
                    <div class="action-btn delete-btn" onclick="removerRemetente(${i})"><i class="fas fa-trash"></i></div>
                </div>
            </td>`;
    });
}

function removerRemetente(index){ remetentes.splice(index,1); atualizarTabelaRemetentes(); atualizarSelectRemetentes(); }

/* Entregas */
let entregas = [];
let editEntregaIndex = null;

function openModal(){ document.getElementById('modal').style.display='flex'; atualizarSelectsEntrega(); }
function closeModal(){ document.getElementById('modal').style.display='none'; }

function atualizarSelectsEntrega(){
    // Produtos
    const selectProduto = document.getElementById('produto');
    selectProduto.innerHTML='';
    produtos.forEach((p,i)=> selectProduto.innerHTML += `<option value="${i}">${p.nome}</option>`);

    // Remetentes
    atualizarSelectRemetentes();

    // Destinatários 
    const selectDest = document.getElementById('destinatario');
    selectDest.innerHTML = '<option>Cliente 1</option><option>Cliente 2</option>';
}

function atualizarSelectRemetentes(){
    const selectRem = document.getElementById('remetente');
    selectRem.innerHTML='';
    remetentes.forEach((r,i)=> selectRem.innerHTML += `<option value="${i}">${r.nome}</option>`);
}

function addEntrega(){
    const destinatario = document.getElementById('destinatario').value;
    const produtoIndex = parseInt(document.getElementById('produto').value);
    const produto = produtos[produtoIndex] ? produtos[produtoIndex].nome : '';
    const remetenteIndex = parseInt(document.getElementById('remetente').value);
    const remetente = remetentes[remetenteIndex] ? remetentes[remetenteIndex].nome : '';
    const valor = parseFloat(document.getElementById('valor').value) || 0;
    const data = document.getElementById('data').value || new Date().toISOString().slice(0,10);
    const id = '#ENT' + String(entregas.length+1).padStart(3,'0');
    entregas.push({id,destinatario,produto,remetente,valor,data,status:'Pendente',localizacao:'Remessa'});
    closeModal();
    atualizarTabelaEntregas();
}

function atualizarTabelaEntregas(){
    const tbody = document.getElementById('tabela-entregas').querySelector('tbody');
    tbody.innerHTML='';
    entregas.forEach((e,i)=>{
        const row = tbody.insertRow();
        row.innerHTML = `<td>${e.id}</td>
            <td>${e.destinatario}</td>
            <td>${e.produto}</td>
            <td>${e.remetente}</td>
            <td>${e.data}</td>
            <td><span class="status status-pending">${e.status}</span></td>
            <td>${e.localizacao}</td>
            <td>
                <div class="action-buttons">
                    <div class="action-btn delete-btn" onclick="removerEntrega(${i})"><i class="fas fa-trash"></i></div>
                </div>
            </td>`;
    });
    document.getElementById('total-entregas').innerText = entregas.length;
}

function removerEntrega(index){ entregas.splice(index,1); atualizarTabelaEntregas(); }
</script>
</body>
</html>
